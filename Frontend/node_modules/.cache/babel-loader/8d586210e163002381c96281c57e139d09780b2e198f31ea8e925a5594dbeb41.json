{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shiro\\\\Desktop\\\\ecommerce-attire\\\\src\\\\context\\\\filterContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useReducer } from \"react\";\nimport { filterReducer } from \"../reducer/filterReducer\";\nimport { useProducts } from \"./productContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FilterContext = /*#__PURE__*/createContext();\nexport const FilterProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const {\n    productState\n  } = useProducts();\n  const initialFilter = {\n    category: [],\n    brands: [],\n    rating: 5,\n    sort: \"featured\",\n    search: \"\",\n    includeOutOfStock: false\n  };\n  const [filterState, filterDispatch] = useReducer(filterReducer, initialFilter);\n  let filteredData = productState === null || productState === void 0 ? void 0 : productState.productData.filter(data => !data.outOfStock);\n  if (filterState.includeOutOfStock) {\n    filteredData = productState === null || productState === void 0 ? void 0 : productState.productData;\n  }\n  if (filterState.category.length > 0) {\n    filteredData = filteredData.filter(data => filterState.category.includes(data.categoryName));\n  }\n  if (filterState.brands.length > 0) {\n    filteredData = filteredData.filter(data => filterState.brands.includes(data.brand));\n  }\n  if (filterState.rating >= 0) {\n    filteredData = filteredData.filter(data => data.ratings.value <= filterState.rating);\n  }\n  if (filterState.search.length > 0) {\n    filteredData = filteredData.filter(data => data.title.toLowerCase().includes(filterState.search.toLowerCase()) || data.brand.toLowerCase().includes(filterState.search.toLowerCase()));\n  }\n  if (filterState.sort === \"high-to-low\") {\n    filteredData = [...filteredData].sort((a, b) => b.price - a.price);\n  } else if (filterState.sort === \"low-to-high\") {\n    filteredData = [...filteredData].sort((a, b) => a.price - b.price);\n  } else if (filterState.sort === \"featured\") {\n    filteredData = [...filteredData];\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(FilterContext.Provider, {\n      value: {\n        filterState,\n        filterDispatch,\n        filteredData\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(FilterProvider, \"CXL8Oh385T6f3r4jUV51y0Eb2T4=\", false, function () {\n  return [useProducts];\n});\n_c = FilterProvider;\nexport const useFilters = () => {\n  _s2();\n  return useContext(FilterContext);\n};\n_s2(useFilters, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"FilterProvider\");","map":{"version":3,"names":["createContext","useContext","useReducer","filterReducer","useProducts","jsxDEV","_jsxDEV","Fragment","_Fragment","FilterContext","FilterProvider","_ref","_s","children","productState","initialFilter","category","brands","rating","sort","search","includeOutOfStock","filterState","filterDispatch","filteredData","productData","filter","data","outOfStock","length","includes","categoryName","brand","ratings","value","title","toLowerCase","a","b","price","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useFilters","_s2","$RefreshReg$"],"sources":["C:/Users/Shiro/Desktop/ecommerce-attire/src/context/filterContext.js"],"sourcesContent":["import { createContext, useContext, useReducer } from \"react\";\r\nimport { filterReducer } from \"../reducer/filterReducer\";\r\nimport { useProducts } from \"./productContext\";\r\n\r\nconst FilterContext = createContext();\r\n\r\nexport const FilterProvider = ({ children }) => {\r\n  const { productState } = useProducts();\r\n  const initialFilter = {\r\n    category: [],\r\n    brands: [],\r\n    rating: 5,\r\n    sort: \"featured\",\r\n    search: \"\",\r\n    includeOutOfStock: false\r\n  };\r\n\r\n  const [filterState, filterDispatch] = useReducer(\r\n    filterReducer,\r\n    initialFilter\r\n  );\r\n\r\n  let filteredData = productState?.productData.filter(data => !data.outOfStock);\r\n\r\n  if (filterState.includeOutOfStock) {\r\n    filteredData = productState?.productData;\r\n  }\r\n\r\n  if (filterState.category.length > 0) {\r\n    filteredData = filteredData.filter((data) =>\r\n      filterState.category.includes(data.categoryName)\r\n    );\r\n  }\r\n\r\n  if (filterState.brands.length > 0) {\r\n    filteredData = filteredData.filter((data) =>\r\n      filterState.brands.includes(data.brand)\r\n    );\r\n  }\r\n\r\n  if (filterState.rating >= 0) {\r\n    filteredData = filteredData.filter(\r\n      (data) => data.ratings.value <= filterState.rating\r\n    );\r\n  }\r\n\r\n  if (filterState.search.length > 0) {\r\n    filteredData = filteredData.filter(\r\n      (data) =>\r\n        data.title.toLowerCase().includes(filterState.search.toLowerCase()) ||\r\n        data.brand.toLowerCase().includes(filterState.search.toLowerCase())\r\n    );\r\n  }\r\n\r\n  if (filterState.sort === \"high-to-low\") {\r\n    filteredData = [...filteredData].sort((a, b) => b.price - a.price);\r\n  } else if (filterState.sort === \"low-to-high\") {\r\n    filteredData = [...filteredData].sort((a, b) => a.price - b.price);\r\n  } else if (filterState.sort === \"featured\") {\r\n    filteredData = [...filteredData];\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <FilterContext.Provider\r\n        value={{ filterState, filterDispatch, filteredData }}\r\n      >\r\n        {children}\r\n      </FilterContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const useFilters = () => useContext(FilterContext);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}