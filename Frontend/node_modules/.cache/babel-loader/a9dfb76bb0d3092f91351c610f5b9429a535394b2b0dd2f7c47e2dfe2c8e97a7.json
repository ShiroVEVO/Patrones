{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shiro\\\\Desktop\\\\ecommerce-attire\\\\src\\\\context\\\\wishlistContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useAuth } from \"./authContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WishlistContext = /*#__PURE__*/createContext();\nexport const Wishlistprovider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [wishlist, setWishlist] = useState([]);\n  const {\n    token\n  } = useAuth();\n  const [isWishlistUpdate, setIsWishlistUpdate] = useState(false);\n  const getWishlistData = async () => {\n    try {\n      setIsWishlistUpdate(true);\n      const {\n        data,\n        status\n      } = await axios({\n        method: \"GET\",\n        url: \"/api/user/wishlist\",\n        headers: {\n          authorization: token\n        }\n      });\n      if (status === 200) {\n        setWishlist(data === null || data === void 0 ? void 0 : data.wishlist);\n        setIsWishlistUpdate(false);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const addWishlistData = async wishlistData => {\n    try {\n      setIsWishlistUpdate(true);\n      const {\n        data,\n        status\n      } = await axios({\n        method: \"POST\",\n        url: \"/api/user/wishlist\",\n        data: {\n          product: wishlistData\n        },\n        headers: {\n          authorization: token\n        }\n      });\n      if (status === 201) {\n        setWishlist(data === null || data === void 0 ? void 0 : data.wishlist);\n        setIsWishlistUpdate(false);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const removeWishlistData = async dataId => {\n    try {\n      setIsWishlistUpdate(true);\n      const {\n        status,\n        data\n      } = await axios({\n        method: \"DELETE\",\n        url: `/api/user/wishlist/${dataId}`,\n        headers: {\n          authorization: token\n        }\n      });\n      if (status === 200) {\n        setWishlist(data === null || data === void 0 ? void 0 : data.wishlist);\n        setIsWishlistUpdate(false);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    if (token) {\n      getWishlistData();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(WishlistContext.Provider, {\n      value: {\n        wishlist,\n        getWishlistData,\n        addWishlistData,\n        removeWishlistData,\n        isWishlistUpdate\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Wishlistprovider, \"6AqbMWgFNUa/K+RpPhV9kvOzZn8=\", false, function () {\n  return [useAuth];\n});\n_c = Wishlistprovider;\nexport const useWishlist = () => {\n  _s2();\n  return useContext(WishlistContext);\n};\n_s2(useWishlist, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"Wishlistprovider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","axios","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","WishlistContext","Wishlistprovider","_ref","_s","children","wishlist","setWishlist","token","isWishlistUpdate","setIsWishlistUpdate","getWishlistData","data","status","method","url","headers","authorization","e","console","log","addWishlistData","wishlistData","product","removeWishlistData","dataId","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useWishlist","_s2","$RefreshReg$"],"sources":["C:/Users/Shiro/Desktop/ecommerce-attire/src/context/wishlistContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"./authContext\";\r\n\r\nconst WishlistContext = createContext();\r\n\r\nexport const Wishlistprovider = ({ children }) => {\r\n  const [wishlist, setWishlist] = useState([]);\r\n  const { token } = useAuth();\r\n  const [isWishlistUpdate, setIsWishlistUpdate] = useState(false);\r\n\r\n  const getWishlistData = async () => {\r\n    try {\r\n      setIsWishlistUpdate(true);\r\n      const { data, status } = await axios({\r\n        method: \"GET\",\r\n        url: \"/api/user/wishlist\",\r\n        headers: { authorization: token },\r\n      });\r\n      if (status === 200) {\r\n        setWishlist(data?.wishlist);\r\n        setIsWishlistUpdate(false);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const addWishlistData = async (wishlistData) => {\r\n    try {\r\n      setIsWishlistUpdate(true);\r\n      const { data, status } = await axios({\r\n        method: \"POST\",\r\n        url: \"/api/user/wishlist\",\r\n        data: { product: wishlistData },\r\n        headers: { authorization: token },\r\n      });\r\n      if (status === 201) {\r\n        setWishlist(data?.wishlist);\r\n        setIsWishlistUpdate(false);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const removeWishlistData = async (dataId) => {\r\n    try {\r\n      setIsWishlistUpdate(true);\r\n      const { status, data } = await axios({\r\n        method: \"DELETE\",\r\n        url: `/api/user/wishlist/${dataId}`,\r\n        headers: { authorization: token },\r\n      });\r\n      if (status === 200) {\r\n        setWishlist(data?.wishlist);\r\n        setIsWishlistUpdate(false);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      getWishlistData();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [token]);\r\n\r\n  return (\r\n    <>\r\n      <WishlistContext.Provider\r\n        value={{\r\n          wishlist,\r\n          getWishlistData,\r\n          addWishlistData,\r\n          removeWishlistData,\r\n          isWishlistUpdate,\r\n        }}\r\n      >\r\n        {children}\r\n      </WishlistContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const useWishlist = () => useContext(WishlistContext);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}