{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shiro\\\\Desktop\\\\ecommerce-attire\\\\src\\\\context\\\\productContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useReducer } from \"react\";\nimport { productReducer } from \"../reducer/productReducer\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductContext = /*#__PURE__*/createContext();\nexport const ProductProdvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const initialState = {\n    isProuductLoading: false,\n    isCategoryLoading: false,\n    isDetailLoading: false,\n    productData: [],\n    categoriesData: []\n  };\n  const [productState, productDispatch] = useReducer(productReducer, initialState);\n  const getData = async () => {\n    try {\n      productDispatch({\n        type: 'products_loading',\n        payload: true\n      });\n      const {\n        status,\n        data\n      } = await axios({\n        method: \"GET\",\n        url: \"/api/products\"\n      });\n      if (status === 200) {\n        productDispatch({\n          type: \"set_products\",\n          payload: data.products\n        });\n        productDispatch({\n          type: 'products_loading',\n          payload: false\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const getCategories = async () => {\n    try {\n      productDispatch({\n        type: 'categories_loading',\n        payload: true\n      });\n      const {\n        status,\n        data\n      } = await axios({\n        method: \"GET\",\n        url: \"/api/categories\"\n      });\n      if (status === 200) {\n        productDispatch({\n          type: \"set_category\",\n          payload: data.categories\n        });\n        productDispatch({\n          type: 'categories_loading',\n          payload: false\n        });\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n  useEffect(() => {\n    getCategories();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ProductContext.Provider, {\n    value: {\n      productState,\n      productDispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductProdvider, \"vTYHIht7j1To1uc4meOJK3GOR4s=\");\n_c = ProductProdvider;\nexport const useProducts = () => {\n  _s2();\n  return useContext(ProductContext);\n};\n_s2(useProducts, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"ProductProdvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useReducer","productReducer","axios","jsxDEV","_jsxDEV","ProductContext","ProductProdvider","_ref","_s","children","initialState","isProuductLoading","isCategoryLoading","isDetailLoading","productData","categoriesData","productState","productDispatch","getData","type","payload","status","data","method","url","products","e","console","log","getCategories","categories","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useProducts","_s2","$RefreshReg$"],"sources":["C:/Users/Shiro/Desktop/ecommerce-attire/src/context/productContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useReducer } from \"react\";\r\nimport { productReducer } from \"../reducer/productReducer\";\r\nimport axios from \"axios\";\r\n\r\nconst ProductContext = createContext();\r\n\r\nexport const ProductProdvider = ({ children }) => {\r\n  const initialState = {\r\n    isProuductLoading: false,\r\n    isCategoryLoading: false,\r\n    isDetailLoading: false,\r\n    productData: [],\r\n    categoriesData: [],\r\n  };\r\n  const [productState, productDispatch] = useReducer(\r\n    productReducer,\r\n    initialState\r\n  );\r\n\r\n  const getData = async () => {\r\n    try {\r\n      productDispatch({type: 'products_loading', payload: true})\r\n      const { status, data } = await axios({\r\n        method: \"GET\",\r\n        url: \"/api/products\",\r\n      });\r\n      if (status === 200) {\r\n        productDispatch({ type: \"set_products\", payload: data.products });\r\n        productDispatch({type: 'products_loading', payload: false})\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const getCategories = async () => {\r\n    try {\r\n      productDispatch({type: 'categories_loading', payload: true})\r\n      const { status, data } = await axios({\r\n        method: \"GET\",\r\n        url: \"/api/categories\",\r\n      });\r\n      if (status === 200) {\r\n        productDispatch({ type: \"set_category\", payload: data.categories });\r\n        productDispatch({type: 'categories_loading', payload: false})\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getCategories();\r\n  }, []);\r\n\r\n  return (\r\n    <ProductContext.Provider value={{ productState, productDispatch }}>\r\n      {children}\r\n    </ProductContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useProducts = () => useContext(ProductContext);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}